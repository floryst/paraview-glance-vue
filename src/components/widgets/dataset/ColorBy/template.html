<v-expansion-panel-content v-if="available === 'geometry' || available === 'volume'">
  <div
    :class="$style.subpanelHeader"
    slot="header"
  >
    <v-icon>invert_colors</v-icon>
    <span class="body-2">Colors</span>
  </div>

  <v-card light flat :class="$style.block">
    <v-container fluid grid-list-md>
      <v-layout row wrap align-center>
        <v-flex xs3 v-show="available === 'geometry'">
          Color By
        </v-flex>
        <v-flex xs9 v-show="available === 'geometry'">
          <v-select
            :class="$style.noTopPadding"
            dense
            flat
            hide-details

            v-model="colorBy"
            :items="arrays"
          />
        </v-flex>
        <v-flex xs12 v-show="colorBy.length === 0 && available === 'geometry'">
          <palette-picker
            :palette="palette"
            :value="solidColor"
            :size="20"
            v-on:input="setSolidColor"
          />
        </v-flex>
        <v-flex xs12 v-show="colorBy.length">
          <v-select
            :class="$style.noTopPadding"
            dense
            flat
            hide-details

            v-model="presetName"
            :items="presets"
          />
        </v-flex>
        <v-flex xs12 v-show="colorBy.length && available === 'geometry'">
          <img :src="lutImage" :class="$style.lutImage" />
        </v-flex>
        <v-flex xs12 v-if="colorBy.length && piecewiseFunction">
          <piecewise-function-editor :piecewiseFunction="piecewiseFunction" :source="source" />
        </v-flex>
      </v-layout>
    </v-container>
  </v-card>
</v-expansion-panel-content>
